---

local function foo(n)
    if (n == 1200) then
        print(2)
        return 1
    end
    return 3 * n
end

---

00000000  1b 4c 4a 02 02 34 00 01  03 00 01 02 09 09 00 00  |.LJ..4..........|
00000010  00 58 01 05 80 36 01 00  00 29 02 02 00 42 01 02  |.X...6...)...B..|
00000020  01 29 01 01 00 4c 01 02  00 1d 01 01 00 4c 01 02  |.)...L.......L..|
00000030  00 0a 70 72 69 6e 74 e0  12 06 10 03 00 01 00 01  |..print.........|
00000040  00 02 33 00 00 00 4b 00  01 00 00 00              |..3...K.....|

---

-- BYTECODE -- checksmthg.lua:1-7
0001    ISNEN    0   0      ; 1200
0002    JMP      1 => 0008
0003    GGET     1   0      ; "print"
0004    KSHORT   2   2
0005    CALL     1   1   2
0006    KSHORT   1   1
0007    RET1     1   2
0008 => MULNV    1   0   1  ; 3
0009    RET1     1   2

-- BYTECODE -- checksmthg.lua:0-7
0001    FNEW     0   0      ; checksmthg.lua:1
0002    RET0     0   1

---

1b 4c 4a 02 02 34 00 01 03 00 01 02 09

09 00 00 00
58 01 05 80
36 01 00 00
29 02 02 00
42 01 02 01
29 01 01 00
4c 01 02 00
1d 01 01 00
4c 01 02 00

0a 70 72 69 6e 74
e0 12
06

10 03 00 01 00 01 00 02

33 00 00 00
4b 00 01 00

00 00

---

Header:
    1b 4c 4a            MAGIC
    02                  VERSION

?   02 34 00 01 03 00 01 02 09

Instructions - function (36 bytes):
    09 00 00 00         ISNEN
    58 01 05 80         JMP
    36 01 00 00         GGET
    29 02 02 00         KSHORT
    42 01 02 01         CALL
    29 01 01 00         KHORT
    4c 01 02 00         RET1
    1d 01 01 00         MULNV
    4c 01 02 00         RET1

Data (27 bytes):
    0a 70 72 69 6e 74   AKA     5 "print"
    e0 12               AKA     1200
    06                  AKA     3

?   10 03 00 01 00 01 00 02

Instructions (main):
    33 00 00 00         FNEW
    4b 00 01 00         RET0

End:
    00 00

---

34: Data size * 2